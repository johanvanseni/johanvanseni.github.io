<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tangkap Bintang Chibi</title>
<style>
body {
    margin:0;
    background:url('https://i.ibb.co/yX5Q0kb/cute-wallpaper.jpg') no-repeat center center fixed;
    background-size:cover;
    font-family:sans-serif;
    user-select:none;
    color:#fff;
}
#gameContainer {
    position:relative;
    margin:auto;
    width:400px;
    height:600px;
    border:2px solid #fff;
    border-radius:15px;
    background:rgba(255,255,255,0.15);
}
#gameCanvas {display:block;width:100%;height:100%;}
#infoBoard {
    position:absolute;
    top:5px;
    left:50%;
    transform:translateX(-50%);
    text-align:center;
    font-size:14px;
    line-height:1.3;
    text-shadow:1px 1px 3px #000;
}
#scoreBoard {
    position:absolute;
    top:100px;
    left:50%;
    transform:translateX(-50%);
    color:#fff;
    font-size:20px;
    text-shadow:1px 1px 4px #000;
}
</style>
</head>
<body>
<div id="gameContainer">
<div id="infoBoard">
<b>Dibuat oleh Johan Vanseni</b><br>
Cara Bermain:<br>
Gunakan <b>Arrow Left</b> dan <b>Arrow Right</b> untuk menggerakkan karakter.<br>
Tangkap <b>ðŸ’› Bintang</b> untuk skor.<br>
Tangkap <b>ðŸ’Ž Power-up</b> untuk +5 skor.<br>
Tangkap <b>âš¡ Power-up</b> untuk speed boost 5 detik!
</div>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<div id="scoreBoard">Score: <span id="score">0</span></div>
</div>

<audio id="bgMusic" src="https://assets.mixkit.co/music/preview/mixkit-cute-upbeat-game-132.mp3" loop></audio>
<audio id="catchSound" src="https://freesound.org/data/previews/341/341695_6265152-lq.mp3"></audio>
<audio id="powerupSound" src="https://freesound.org/data/previews/331/331912_3248244-lq.mp3"></audio>

<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
const scoreEl=document.getElementById('score');
const bgMusic=document.getElementById('bgMusic');
const catchSound=document.getElementById('catchSound');
const powerupSound=document.getElementById('powerupSound');

let player={x:180,y:520,width:40,height:40,color:'pink',speed:5};
let stars=[],powerUps=[],score=0,keys={left:false,right:false};
let speedBoost=false;

// Play music
bgMusic.volume=0.3;
bgMusic.play();

// Keyboard input
document.addEventListener('keydown',e=>{
    if(e.key==='ArrowLeft') keys.left=true;
    if(e.key==='ArrowRight') keys.right=true;
});
document.addEventListener('keyup',e=>{
    if(e.key==='ArrowLeft') keys.left=false;
    if(e.key==='ArrowRight') keys.right=false;
});

// Spawn star
function spawnStar(){ stars.push({x:Math.random()*360,y:-20,size:20,speed:3+Math.random()*2}); }
// Spawn powerup
function spawnPowerUp(){ const types=['score','speed']; powerUps.push({x:Math.random()*360,y:-20,size:20,type:types[Math.floor(Math.random()*types.length)],speed:2+Math.random()*2}); }

// Update game
function update(){
    let pspeed=speedBoost?8:5;
    if(keys.left && player.x>0) player.x-=pspeed;
    if(keys.right && player.x<canvas.width-player.width) player.x+=pspeed;

    // Move stars
    stars.forEach((s,i)=>{
        s.y+=s.speed;
        if(s.x < player.x+player.width && s.x+s.size>player.x &&
           s.y < player.y+player.height && s.y+s.size>player.y){
               score+=1;
               scoreEl.innerText=score;
               stars.splice(i,1);
               catchSound.currentTime=0; catchSound.play();
        }
        if(s.y>canvas.height) stars.splice(i,1);
    });

    // Move powerUps
    powerUps.forEach((p,i)=>{
        p.y+=p.speed;
        if(p.x < player.x+player.width && p.x+p.size>player.x &&
           p.y < player.y+player.height && p.y+p.size>player.y){
               if(p.type==='score'){ score+=5; scoreEl.innerText=score; }
               if(p.type==='speed'){ speedBoost=true; setTimeout(()=>speedBoost=false,5000); }
               powerupSound.currentTime=0; powerupSound.play();
               powerUps.splice(i,1);
        }
        if(p.y>canvas.height) powerUps.splice(i,1);
    });

    // Random spawn
    if(Math.random()<0.03) spawnStar();
    if(Math.random()<0.01) spawnPowerUp();
}

// Draw game
function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Draw player chibi
    ctx.fillStyle=player.color;
    ctx.beginPath();
    ctx.arc(player.x+player.width/2,player.y+player.height/2,player.width/2,0,Math.PI*2);
    ctx.fill();
    // Draw stars
    stars.forEach(s=>{
        ctx.fillStyle='yellow';
        ctx.beginPath();
        ctx.arc(s.x+s.size/2,s.y+s.size/2,s.size/2,0,Math.PI*2);
        ctx.fill();
    });
    // Draw powerUps
    powerUps.forEach(p=>{
        ctx.font='20px Arial';
        let emoji=p.type==='score'?'ðŸ’Ž':'âš¡';
        ctx.fillText(emoji,p.x,p.y+20);
    });
}

// Game loop
function gameLoop(){
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
