<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tangkap Bintang</title>
<style>
body {
    margin: 0;
    background: url('https://i.ibb.co/yX5Q0kb/cute-wallpaper.jpg') no-repeat center center fixed;
    background-size: cover;
    font-family: sans-serif;
    user-select: none;
}
#gameContainer {
    position: relative;
    margin: auto;
    width: 400px;
    height: 600px;
    border: 2px solid #fff;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.15);
}
#gameCanvas {
    display: block;
    width: 100%;
    height: 100%;
}
#scoreBoard {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 20px;
    text-shadow: 1px 1px 4px #000;
}
</style>
</head>
<body>
<div id="gameContainer">
<canvas id="gameCanvas" width="400" height="600"></canvas>
<div id="scoreBoard">Score: <span id="score">0</span></div>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const scoreEl = document.getElementById('score');

let player = {x:180, y:520, width:40, height:40, color:'pink', speed:5};
let stars = [];
let score = 0;
let keys = {left:false, right:false};

// Keyboard input
document.addEventListener('keydown', e => {
    if(e.key === 'ArrowLeft') keys.left = true;
    if(e.key === 'ArrowRight') keys.right = true;
});
document.addEventListener('keyup', e => {
    if(e.key === 'ArrowLeft') keys.left = false;
    if(e.key === 'ArrowRight') keys.right = false;
});

// Spawn star
function spawnStar(){
    stars.push({x: Math.random()*360, y: -20, size: 20, speed: 3 + Math.random()*2});
}

// Update game
function update(){
    if(keys.left && player.x>0) player.x -= player.speed;
    if(keys.right && player.x<canvas.width-player.width) player.x += player.speed;

    // Move stars
    stars.forEach((s, i) => {
        s.y += s.speed;
        // Collision
        if(s.x < player.x + player.width && s.x + s.size > player.x &&
           s.y < player.y + player.height && s.y + s.size > player.y){
            score += 1;
            scoreEl.innerText = score;
            stars.splice(i,1);
        }
        // Remove if off screen
        if(s.y > canvas.height) stars.splice(i,1);
    });

    // Randomly spawn stars
    if(Math.random() < 0.03) spawnStar();
}

// Draw game
function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Draw player
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // Draw stars
    stars.forEach(s=>{
        ctx.fillStyle = 'yellow';
        ctx.beginPath();
        ctx.arc(s.x+s.size/2, s.y+s.size/2, s.size/2, 0, Math.PI*2);
        ctx.fill();
    });
}

// Game loop
function gameLoop(){
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
